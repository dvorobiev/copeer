# üöÄ Smart Copier

**–£–º–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å TUI-–¥–∞—à–±–æ—Ä–¥–æ–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.**

–≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ñ–∞–π–ª–æ–≤ —Å –æ–¥–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞ –¥—Ä—É–≥–æ–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–æ–≤, –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞.


*(–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç: –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å —Ç–∏–ø–∞ [Imgur](https://imgur.com/upload) –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Å—Å—ã–ª–∫—É)*

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è—è –ø—Ä–æ—Ü–µ—Å—Å.
*   **TUI-–¥–∞—à–±–æ—Ä–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:** –ù–∞–≥–ª—è–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `rich`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
    *   –°—Ç–∞—Ç—É—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.
    *   –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.
    *   –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å, —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è.
*   **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–æ–≤:** –ó–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∏—Å–∫–∏ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º. –ö–æ–≥–¥–∞ –æ–¥–∏–Ω –¥–∏—Å–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞, —É—Ç–∏–ª–∏—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π.
*   **–ù–∞–¥–µ–∂–Ω–æ–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ—Ä–≤–∞–Ω (Ctrl+C, –æ–±—Ä—ã–≤ —Å–≤—è–∑–∏, –æ—à–∏–±–∫–∞), –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —É—Ç–∏–ª–∏—Ç–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞, –Ω–µ –∫–æ–ø–∏—Ä—É—è —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã.
*   **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `rsync` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º —Å—É–º–º–∞–º (`--checksum`), –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –∏ –≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã.
*   **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í–µ–¥–µ—Ç —É—á–µ—Ç –≤—Å–µ—Ö —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (`mapping.csv`), —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö (`copier_state.csv`) –∏ –æ—à–∏–±–æ–∫ (`errors.log`).

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone git@github.com:YourUsername/smart-copier.git
    cd smart-copier
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    pip install -r requirements.txt
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
    –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `config.yaml`. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã.

    ```yaml
    # –°–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–æ–≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
    mount_points:
      - /mnt/archive/disk1
      - /mnt/archive/disk2
      - /mnt/archive/disk3
    
    # –ü–æ—Ä–æ–≥ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏—Å–∫–∞ –≤ %, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
    threshold: 98.0
    
    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ rsync
    threads: 8
    
    # –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    state_file: "copier_state.csv"
    mapping_file: "mapping.csv"
    error_log_file: "errors.log"
    dry_run: false
    ```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
python3 copier.py